!function(){"use stric";function a(){var a,b,c,d,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this.options,E=this.messages,F=void 0!==D.groups,G=[],H=[];this.calendar=document.createElement("section"),this.calendar.className="material-calendar-container "+D.className,a=document.createElement("header"),a.className="material-calendar-header",b=document.createElement("h2"),b.insertAdjacentHTML("beforeend",f(D.range,D.language)),a.appendChild(b),this.calendar.appendChild(a),c=document.createElement("section"),c.className="material-calendar-body",d=document.createElement("table"),d.className="calendar-table",j=document.createElement("thead"),m=document.createElement("tr"),l=document.createElement("tbody"),m=document.createElement("tr"),F&&(h(j,o,p,m,E.all),A=document.createElement("tr"),n=document.createElement("th"),n.className="team",A.appendChild(n)),j.appendChild(m),l.appendChild(A||m),v=g(D.range.start,D.range.end,D.language);for(w in v.formated){n=document.createElement("th"),n.className="month",n.insertAdjacentHTML("beforeend",v.formated[w]),m=j.querySelector("tr"),m.appendChild(n),n=document.createElement("td"),n.className="month",m=l.lastElementChild,m.appendChild(n),x=document.createElement("table"),x.className="weeks",A=document.createElement("thead"),x.appendChild(A),n.appendChild(x),A=document.createElement("tr"),B=v.normal[w].split("/"),x=i(B[0],B[1],D.language,D.eventDateFormat,D.weekStart,H),s=document.createElement("td"),s.className="month",q=document.createElement("table"),q.className="weeks",s.appendChild(q),t=document.createElement("tr"),s.querySelector(".weeks").appendChild(t);for(y in x){for(B=document.createElement("td"),B.insertAdjacentHTML("beforeend",x[y]),A.appendChild(B),t=document.createElement("td"),t.className="week",t.setAttribute("data-week",x[y]),r=document.createElement("table"),r.className="days",B=document.createElement("tbody"),r.appendChild(B),B=x[y].split("/"),C=0;7>C;C++)u=document.createElement("td"),u.className="day",u.setAttribute("data-day",e(new Date(2015,Number(B[1])-1,Number(B[0])+C),D.language)),r.querySelector("tbody").appendChild(u);t.appendChild(r),s.querySelector("tr").appendChild(t)}G.push(s),n.querySelector(".weeks thead").appendChild(A)}z=F?D.groups.length:1;for(var I=0;z>I;I++)for(m=document.createElement("tr"),l.appendChild(m),F&&(h(n,o,p,m,D.groups[I]),m.setAttribute("data-group",k(D.groups[I]))),C=0;C<G.length;C++)n=G[C].cloneNode(!0),m.appendChild(n);d.appendChild(j),d.appendChild(l),c.appendChild(d),this.calendar.appendChild(c),document.querySelector(D.container).appendChild(this.calendar)}function b(){var a,b,c,d,f,g,h=this.options,i=h.events;i=m(i,h.eventDateFormat);for(var l in i){if(g=e(i[l].start,h.language),i[l].end>h.range.end)throw new Error("The event's end date can't be greater than the calendar range end");if(i[l].start<h.range.start)throw new Error("The event's start date can't be shorter than the calendar range start");if(i[l].end=e(i[l].end,h.language),a=document.querySelector('[data-group="'+k(i[l].group)+'"]').querySelector('[data-day="'+g+'"]'),b=document.createElement("section"),b.className="material-calendar-event",b.style.width=j(g,i[l].end,i[l].start,h.language,h.eventDateFormat),c=document.createElement("h3"),c.className="material-calendar-title",c.setAttribute("data-title",i[l].title),c.insertAdjacentHTML("beforeend",void 0===i[l].resume?i[l].title:i[l].resume),b.appendChild(c),a.appendChild(b),null!==i[l].subevents)for(var n in i[l].subevents)d=document.createElement("article"),d.className="material-calendar-card",null!==i[l].subevents[n].link?(f=document.createElement("a"),f.className="material-calendar-title",f.setAttribute("href",i[l].subevents[n].link),f.insertAdjacentHTML("beforeend",i[l].subevents[n].description),d.appendChild(f)):(f=document.createElement("h5"),f.className="material-calendar-title",d.insertAdjacentHTML("beforeend",i[l].subevents[n].description)),b.appendChild(d)}}function c(a){var b=a.start.split("/"),c=a.end.split("/");return a.start=new Date(b[1],--b[0],1),a.end=new Date(c[1],c[0],0),a}function d(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function e(a,b,c){var d;switch(c){case"MM yyyy":d=a.toLocaleDateString(b,{year:"numeric",month:"short"});break;case"MMM/yy":d=a.toLocaleDateString(b,{year:"2-digit",month:"short"});break;case"MM/yyyy":d=a.toLocaleDateString(b,{year:"numeric",month:"numeric"});break;case"dd/MM":d=a.toLocaleDateString(b,{month:"numeric",day:"numeric"});break;default:d=a.toLocaleDateString(b,{year:"numeric",month:"numeric",day:"numeric"})}return d}function f(a,b){var c={start:0,end:0};for(var d in a)c[d]=e(a[d],b,"MM yyyy");return c.start+" - "+c.end}function g(a,b,c){var d={formated:[],normal:[]},f=e(a,c,"MMM/yy"),g=(e(b,c,"MMM/yy"),new Date(a));do d.formated.push(f),d.normal.push(e(g,c,"MM/yyyy")),g=new Date(g.setMonth(g.getMonth()+1)),f=e(g,c,"MMM/yy");while(b>=g);return d}function h(a,b,c,d,e){a=document.createElement("th"),a.className="team",b=document.createElement("a"),b.className="material-calendar-link toggle-all",b.innerHTML=e,c=document.createElement("i"),c.className="material-calendar-caret-down",b.appendChild(c),a.appendChild(b),d.appendChild(a)}function i(a,b,c,d,f,g){var h=[],i=new Date(b,--a,1),j=new Date(b,++a,0),k=Math.ceil(i.getDay()+j.getDate()/7),l=i.getDay()||7,m=i,n=0,o=0,p=0;switch(f){case"Sunday":n=0;break;case"Monday":n=1;break;case"Tuesday":n=2;break;case"Wednesday":n=3;break;case"Thursday":n=4;break;case"Friday":n=5;break;case"Saturday":n=6}m.setHours(-24*(l-n));for(var q=0;k>q;q++){for(;g.indexOf(e(m,c,"dd/MM"))>=0;)m.setDate(m.getDate()+7);if(h.length>1&&(o=h[h.length-1].split("/")[1],p=m.getMonth()+1,p>o))break;h.push(e(m,c,"dd/MM")),g.push(e(m,c,"dd/MM")),m.setDate(m.getDate()+7)}return h}function j(a,b,c,d,f){for(var g=0,h=document.querySelector("[data-day='"+a+"']");l(a,f)<=l(b,f);)g+=h.offsetWidth,a=c.setHours(24),a=e(c,d),start=document.querySelector("[data-day='"+a+"']");return g+"px"}function k(a){return a=a.replace(/[ÀÁÂÃÄÅ]/,"A").replace(/[àáâãäå]/,"a").replace(/[ÈÉÊË]/,"E").replace(/[èéêë]/,"e").replace(/[ÌÍÏ]/,"I").replace(/[ìíï]/,"i").replace(/[ÒÓÕÔÖ]/,"O").replace(/[òóõôö]/,"o").replace(/[ÙÚÛÜ]/,"U").replace(/[ùúûü]/,"u").replace(/[Ç]/,"C").replace(/[ç]/,"c"),a.replace(/[^a-z0-9]/gi,"").toLowerCase()}function l(a,b){var c=a.split("/");if("dd/mm/yyyy"===b)a=new Date(c[2],--c[1],c[0]);else{if("mm/dd/yyyy"!==b)throw new Error("Not implemented format");a=new Date(c[2],--c[0],c[1])}return a}function m(a,b){for(var c in a)a[c].start=l(a[c].start,b),a[c].end=l(a[c].end,b);return a}var n=performance.now();this.MaterialCalendar=function(){this.container=null,this.calendar=null,this.messages={all:"todos"};var a={language:"pt-BR",className:"full",weekStart:"Monday",container:"body",eventDateFormat:"dd/MM/yyyy"};this.options=arguments[0]&&"object"==typeof arguments[0]?d(a,arguments[0]):a,this.options.range=c(this.options.range),this.options.eventDateFormat=this.options.eventDateFormat.toLowerCase(),this.createCalendar(),void 0!==this.options.events&&this.addEvents()},MaterialCalendar.prototype.createCalendar=function(){a.call(this);var b=performance.now();console.log("build calendar took "+(b-n)+" milliseconds.")},MaterialCalendar.prototype.addEvents=function(){n=performance.now(),b.call(this),perf_end=performance.now(),console.log("add events took "+(perf_end-n)+" milliseconds.")}}();